{% extends "base.html" %}

{% block title %}发布问题 - 知乎简易版{% endblock %}

{% block header_title %}发布问题{% endblock %}

{% block content %}
<div class="card">
      <div style="margin-bottom: 20px;">
            <a href="{{ url_for('back_question') }}" class="btn">返回问题列表</a>
      </div>

      <div class="card">
            <h2>创建新问题</h2>
            <div class="alert alert-info">请输入完整的问题内容后提交</div>

            <form method="post" action="{{ url_for('question_insert') }}">
                  <div class="form-group">
                        <label for="question_content">问题内容</label>
                        <textarea id="question_content" name="问题内容" class="form-control" rows="5"
                              placeholder="请在此输入您的问题..." required></textarea>
                  </div>

                  <div class="form-group">
                        <button type="submit" class="btn btn-success">发布问题</button>
                  </div>
            </form>
      </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
      document.addEventListener('DOMContentLoaded', function () {
            // 表单提交前验证
            document.querySelector('form').addEventListener('submit', function (e) {
                  const textarea = this.querySelector('textarea');
                  if (!textarea.value.trim()) {
                        e.preventDefault();
                        showAlert('请填写问题内容', 'error');
                        textarea.focus();
                  }
            });
      });
</script>
{% endblock %}